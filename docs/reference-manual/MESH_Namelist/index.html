

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>17. MESH Namelist &mdash; Truchas Reference Manual 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="18. NUMERICS Namelist" href="../NUMERICS_Namelist/index.html" />
    <link rel="prev" title="16. MATERIAL and PHASE Namelists" href="../MATERIAL_and_PHASE_Namelists/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Truchas Reference Manual
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ALTMESH_Namelist/index.html">2. ALTMESH Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BC_Namelist/index.html">3. BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BODY_Namelist/index.html">4. BODY Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DIFFUSION_Solver_Namelist/index.html">5. DIFFUSION Solver Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DS_SOURCE_Namelist/index.html">6. DS_SOURCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ELECTROMAGNETICS_Namelist/index.html">7. ELECTROMAGNETICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ENCLOSURE_RADIATION_Namelist/index.html">8. ENCLOSURE_RADIATION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ENCLOSURE_SURFACE_Namelist/index.html">9. ENCLOSURE_SURFACE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EVAPORATION_Namelist/index.html">10. EVAPORATION Namelist (Experimental)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_Namelist/index.html">11. FLOW Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_BC_Namelist/index.html">12. FLOW_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FLOW_PRESSURE_SOLVER_and_FLOW_VISCOUS_SOLVER_Namelists/index.html">13. FLOW_PRESSURE_SOLVER and FLOW_VISCOUS_SOLVER Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FUNCTION_Namelist/index.html">14. FUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../INDUCTION_COIL_Namelist/index.html">15. INDUCTION_COIL Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MATERIAL_and_PHASE_Namelists/index.html">16. MATERIAL and PHASE Namelists</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">17. MESH Namelist</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">17.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-namelist-features">17.2. MESH Namelist Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#components">17.3. Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#external-mesh-file">17.3.1. External mesh file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internally-generated-mesh">17.3.2. Internally generated mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-parameters">17.3.3. Common Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">17.4. External Mesh file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mesh-file">17.4.1. mesh_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interface-side-sets">17.4.2. Interface_Side_Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gap-element-blocks-deprecated">17.4.3. gap_element_blocks (deprecated)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#m-ebm">17.4.4. gap_element_blocks (deprecated)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id5">17.5. Internally Generated Mesh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#x-axis-y-axis-z-axis">17.5.1. x_axis, y_axis, z_axis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#noise-factor-expert">17.5.2. noise_factor (expert)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#common-variables">17.6. Common variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#coordinate-scale-factor">17.6.1. coordinate_scale_factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotation-angles">17.6.2. rotation_angles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partitioner">17.6.3. partitioner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partition-file">17.6.4. partition_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#first-partition">17.6.5. first_partition</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#metis-mesh-partitioning">17.7. METIS Mesh Partitioning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#metis-ptype">17.7.1. metis_ptype</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-iptype">17.7.2. metis_iptype</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-ctype">17.7.3. metis_ctype</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-ncuts">17.7.4. metis_ncuts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-niter">17.7.5. metis_niter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-ufactor">17.7.6. metis_ufactor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-minconn">17.7.7. metis_minconn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-contig">17.7.8. metis_contig</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-seed">17.7.9. metis_seed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metis-dbglvl">17.7.10. metis_dbglvl</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../NUMERICS_Namelist/index.html">18. NUMERICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OUTPUTS_Namelist/index.html">19. OUTPUTS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHASE_CHANGE_Namelist/index.html">20. PHASE_CHANGE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHYSICAL_CONSTANTS_Namelist/index.html">21. PHYSICAL_CONSTANTS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PHYSICS_Namelist/index.html">22. PHYSICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PROBE_Namelist/index.html">23. PROBE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RESTART_Namelist/index.html">24. RESTART Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SIMULATION_CONTROL_Namelist/index.html">25. SIMULATION_CONTROL Namelist (Experimental)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SOLID_MECHANICS_Namelist/index.html">26. SOLID_MECHANICS Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SPECIES_BC_Namelist/index.html">27. SPECIES_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../THERMAL_BC_Namelist/index.html">28. THERMAL_BC Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../THERMAL_SOURCE_Namelist/index.html">29. THERMAL_SOURCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOOLPATH_Namelist/index.html">30. TOOLPATH Namelist (Experimental)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TURBULENCE_Namelist/index.html">31. TURBULENCE Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VFUNCTION_Namelist/index.html">32. VFUNCTION Namelist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../VISCOPLASTIC_MODEL_Namelist/index.html">33. VISCOPLASTIC_MODEL Namelist</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Truchas Reference Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">17. </span>MESH Namelist</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/MESH_Namelist/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound" id="mesh-namelist">
</div>
<div class="section" id="id1">
<h1><span class="section-number">17. </span>MESH Namelist<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2><span class="section-number">17.1. </span>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#mesh-namelist"><span class="std std-ref">MESH</span></a> namelist specifies the common mesh used by all physics models other than the induction heating model, which uses a separate tetrahedral mesh specified by the <a class="reference internal" href="../ALTMESH_Namelist/index.html#altmesh-namelist"><span class="std std-ref">ALTMESH</span></a> namelist. For simple demonstration problems, a rectilinear hexahedral mesh of a brick domain can be defined, but for most applications the mesh will need to be generated beforehand by some third party tool or tools and saved asa file that Truchas will read. At this time Exodus II <a class="footnote-reference brackets" href="#sjaardema2006exodus" id="id2">1</a> is the only supported mesh format (also sometimes known as Genesis). This well-known format is used by some mesh generation tools (<a class="reference external" href="https://cubit.sandia.gov/">Cubit</a>, for example) and utilities exist for translating from other formats to Exodus II. The unstructured 3D mesh may be a general mixed-element mesh consisting of non-degenerate hexehedral, tetrahedral, pyramid, and wedge/prism elements. The Exodus II format supports a partitioning of the elements into element blocks and also supports the definition of side sets, which are collections of oriented element faces that describe mesh surfaces, either internal or boundary. Extensive use is made of this additional mesh metadata in assigning materials, initial conditions, boundary conditions, etc., to the mesh.</p>
</div>
<div class="section" id="mesh-namelist-features">
<h2><span class="section-number">17.2. </span>MESH Namelist Features<a class="headerlink" href="#mesh-namelist-features" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><strong>Required/Optional        :</strong> Required</div>
<div class="line"><strong>Single/Multiple Instances:</strong> Single</div>
</div>
</div>
<div class="section" id="components">
<h2><span class="section-number">17.3. </span>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="external-mesh-file">
<h3><span class="section-number">17.3.1. </span>External mesh file<a class="headerlink" href="#external-mesh-file" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#m-mf"><span class="std std-ref">mesh_file</span></a></p></li>
<li><p><a class="reference internal" href="#m-iss"><span class="std std-ref">Interface_Side_Sets</span></a></p></li>
<li><p><a class="reference internal" href="#m-geb"><span class="std std-ref">gap_element_blocks</span></a></p></li>
<li><p><a class="reference internal" href="#m-ebm"><span class="std std-ref">exodus_block_modulus</span></a></p></li>
</ul>
</div>
<div class="section" id="internally-generated-mesh">
<h3><span class="section-number">17.3.2. </span>Internally generated mesh<a class="headerlink" href="#internally-generated-mesh" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#m-xyza"><span class="std std-ref">x_axis</span></a></p></li>
<li><p><a class="reference internal" href="#m-xyza"><span class="std std-ref">y_axis</span></a></p></li>
<li><p><a class="reference internal" href="#m-xyza"><span class="std std-ref">z_axis</span></a></p></li>
<li><p><a class="reference internal" href="#m-nf"><span class="std std-ref">noise_factor</span></a></p></li>
</ul>
</div>
<div class="section" id="common-parameters">
<h3><span class="section-number">17.3.3. </span>Common Parameters<a class="headerlink" href="#common-parameters" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#m-csf"><span class="std std-ref">coordinate_scale_factor</span></a></p></li>
<li><p><a class="reference internal" href="#m-ra"><span class="std std-ref">rotation_angles</span></a></p></li>
<li><p><a class="reference internal" href="#m-p"><span class="std std-ref">partitioner</span></a></p></li>
<li><p><a class="reference internal" href="#m-pf"><span class="std std-ref">partition_file</span></a></p></li>
<li><p><a class="reference internal" href="#m-fp"><span class="std std-ref">first_partition</span></a></p></li>
</ul>
</div>
</div>
<div class="section" id="id3">
<h2><span class="section-number">17.4. </span>External Mesh file<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>In typical usage, the mesh will be read from a specified Exodus II mesh file. Other input variables that follow specify optional modifications that can be made to the mesh after it is read.</p>
<div class="section" id="mesh-file">
<span id="m-mf"></span><h3><span class="section-number">17.4.1. </span>mesh_file<a class="headerlink" href="#mesh-file" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the path to the Exodus II mesh file. If not an absolute path, it will be interpreted as a path relative to the Truchas input file directory.</div>
<div class="line"><strong>Type</strong>        : case-sensitive string</div>
<div class="line"><strong>Default</strong>     : none</div>
</div>
</div>
<div class="section" id="interface-side-sets">
<span id="m-iss"></span><h3><span class="section-number">17.4.2. </span>Interface_Side_Sets<a class="headerlink" href="#interface-side-sets" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of side set IDs from the ExodusII mesh identifying internal mesh surfaces that will be treated specially by the heat/species transport solver.</div>
<div class="line"><strong>Type</strong>        : integer list</div>
<div class="line"><strong>Default</strong>     : An empty list of side set IDs.</div>
<div class="line"><strong>Valid Values</strong>: Any side set ID whose faces are internal to the mesh.</div>
<div class="line"><strong>Notes</strong>       : The heat/species transport solver requires that boundary conditions are imposed along the specified surface. Typically these will be interface conditions defined by <a class="reference internal" href="../THERMAL_BC_Namelist/index.html#thermal-bc-namelist"><span class="std std-ref">THERMAL_BC</span></a> namelists, but in unusual use cases they could also be external boundary conditions defined by the same namelists. In the latter case it is necessary to understand that the solver views the mesh as having been sliced open along the specified internal surfaces creating matching pairs of additional external boundary and, where interface conditions are not imposed, boundary conditions must be imposed on both sides of the interface.</div>
</div>
</div>
<div class="section" id="gap-element-blocks-deprecated">
<span id="m-geb"></span><h3><span class="section-number">17.4.3. </span>gap_element_blocks (deprecated)<a class="headerlink" href="#gap-element-blocks-deprecated" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of element block IDs from an Exodus II mesh that are to be treated as gap elements.</div>
<div class="line"><strong>Type</strong>        : integer list</div>
<div class="line"><strong>Default</strong>     : An empty list of element block IDs.</div>
<div class="line"><strong>Valid Values</strong>: Any element block ID.</div>
<div class="line"><strong>Notes</strong>       : Any element block ID in the mesh file can be specified, but elements that are not connected such that they can function as gap elements or are not consistent with side set definitions will almost certainly result in incorrect behavior. The code does not check for these inconsistencies. The heat/species transport solver drops these elements from its view of the mesh and treats them instead as an internal interface; see the notes to <a class="reference internal" href="#m-iss"><span class="std std-ref">interface_side_sets</span></a>. The block IDs specified here can be used as values for <a class="reference internal" href="../THERMAL_BC_Namelist/index.html#tb-fsi"><span class="std std-ref">face_set_ids</span></a> from the <a class="reference internal" href="../THERMAL_BC_Namelist/index.html#thermal-bc-namelist"><span class="std std-ref">THERMAL_BC</span></a> namelist.</div>
</div>
</div>
<div class="section" id="m-ebm">
<span id="id4"></span><h3><span class="section-number">17.4.4. </span>gap_element_blocks (deprecated)<a class="headerlink" href="#m-ebm" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : When importing an Exodus II mesh, the element block IDs are replaced by their value modulo this parameter. Set the parameter to 0 to disable this procedure.</div>
<div class="line"><strong>Type</strong>        : integer</div>
<div class="line"><strong>Default</strong>     : 10000</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\geq 0\)</span></div>
<div class="line"><strong>Notes</strong>       : This parameter helps solve a problem posed by mixed-element meshes created by Cubit and Trelis. In those tools a user may define an element block comprising multiple element types. But when exported in the Exodus II format, which doesn’t support blocks with mixed element types, the element block will be written as multiple Exodus II blocks, one for each type of element. One of the blocks will retain the user-specified ID of the original block. The IDs of the others will be that ID plus an offset specific to the element type. For example, if the original block ID was 1, hexahedra in the block will be written to a block with ID 1, tetrahedra to a block with ID <span class="math notranslate nohighlight">\(10001\)</span>, pyramids to a block with ID 100001, and wedges to a block with ID <span class="math notranslate nohighlight">\(200001\)</span>. These are the default offset values, and they can be set in Cubit/Trelis; see their documentation for details on how the IDs are generated. It is important to note that this reorganization of element blocks occurs silently and so the user may be unaware that it has happened. In order to reduce the potential for input errors, Truchas will by default convert the block IDs to congruent values modulo <span class="math notranslate nohighlight">\(N\)</span> in the interval <span class="math notranslate nohighlight">\([1,N−1]\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is the value of this parameter. The default value <span class="math notranslate nohighlight">\(10000\)</span> is appropriate for the default configuration of Cubit/Trellis, and restores the original user-specified block IDs. Note that this effectively limits the range of element block IDs to <span class="math notranslate nohighlight">\([1,N−1]\)</span>.</div>
</div>
<p>The element block IDs are modified immediately after reading the file. Any input parameters that refer to block IDs must refer to the modified IDs.</p>
</div>
</div>
<div class="section" id="id5">
<h2><span class="section-number">17.5. </span>Internally Generated Mesh<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>A rectilinear hexahedral mesh for a brick domain <span class="math notranslate nohighlight">\([x_{min},x_{max}] × [y_{min},y_{max}] × [z_{min},z_{max}]\)</span> can be generated internally as part of a Truchas simulation using the following input variables. The mesh is the tensor product of 1D grids in each of the coordinate directions. Each coordinate grid is defined by a coarse grid whose intervals are subdivided into subintervals, optionally with biased sizes. The generated Exodus II mesh consists of a single element block with ID 1, and a side set is defined for each of the six sides of the domain with IDs 1 through 6 for the <span class="math notranslate nohighlight">\(x=x_{min}, x=x_{max}, y=y_{min}, y=y_{max}, z=z_{min},\)</span> and <span class="math notranslate nohighlight">\(z=z_{max}\)</span> sides,respectively. Note that while the mesh is formally structured, it is represented internally as a general unstructured mesh.</p>
<div class="section" id="x-axis-y-axis-z-axis">
<span id="m-xyza"></span><h3><span class="section-number">17.5.1. </span>x_axis, y_axis, z_axis<a class="headerlink" href="#x-axis-y-axis-z-axis" title="Permalink to this headline">¶</a></h3>
<p>Data that describes the grid in each of the coordinate directions. The tensor product of these grids define the nodes of the 3D mesh. The data for each coordinate grid consists of these three component arrays:</p>
<table class="colwidths-given tight-table docutils align-default" id="grid-mesh-options">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>%coarse_grid</strong></p></td>
<td><p>A strictly increasing list of two or more real values that define the points of the coarse grid for the coordinate direction. The first and last values define the extent of the domain in this direction.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>%intervals</strong></p></td>
<td><p>A list of postive integers defining the number of subintervals into which each corresponding coarse grid interval should be subdivided. The number of values must be one less than the number of coarse grid points.</p></td>
</tr>
<tr class="row-even"><td><p><strong>%ratio</strong></p></td>
<td><p>An optional list of positive real values that define the ratio of the lengths of successive subintervals for each coarse grid interval. The default is to subdivide into equal length subintervals. If specified, the number of values must be one less than the number of coarse grid points.</p></td>
</tr>
</tbody>
</table>
<p>See <a class="reference internal" href="#fig-mesh-internal-schematic"><span class="std std-numref">Figure 17.5.1</span></a> for an example. That is a mesh generated by the following input.</p>
<div class="highlight-default notranslate" id="internal-mesh-example-script"><div class="highlight"><pre><span></span><span class="n">x_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.67</span><span class="p">,</span> <span class="mf">1.33</span><span class="p">,</span> <span class="mf">2.0</span>
<span class="n">x_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span>
<span class="n">x_axis</span><span class="o">%</span><span class="n">ratio</span>       <span class="o">=</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.7</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
<span class="n">y_axis</span><span class="o">%</span><span class="n">ratio</span>       <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">z_axis</span><span class="o">%</span><span class="n">coarse_grid</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span>
<span class="n">z_axis</span><span class="o">%</span><span class="n">intervals</span>   <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="figure align-center" id="id9">
<span id="fig-mesh-internal-schematic"></span><a class="reference internal image-reference" href="../_images/grid-plot.png"><img alt="../_images/grid-plot.png" src="../_images/grid-plot.png" style="width: 650px;" /></a>
<p class="caption"><span class="caption-number">Figure 17.5.1 </span><span class="caption-text">Top xy surface of the rectilinear mesh generated by the <a class="reference internal" href="#internal-mesh-example-script"><span class="std std-ref">example input</span></a> shown.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="noise-factor-expert">
<span id="m-nf"></span><h3><span class="section-number">17.5.2. </span>noise_factor (expert)<a class="headerlink" href="#noise-factor-expert" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : If specified with a positive value, the coordinates of each mesh node will be perturbed by uniformly distributed random amount whose magnitude will not exceed this value times the local cell size at the node. Nodes on the boundary are not perturbed in directions normal to the boundary. This is only useful for testing.</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\in [0,0.3]\)</span></div>
</div>
</div>
</div>
<div class="section" id="common-variables">
<h2><span class="section-number">17.6. </span>Common variables<a class="headerlink" href="#common-variables" title="Permalink to this headline">¶</a></h2>
<p>The following variables apply to both types of meshes.</p>
<div class="section" id="coordinate-scale-factor">
<span id="m-csf"></span><h3><span class="section-number">17.6.1. </span>coordinate_scale_factor<a class="headerlink" href="#coordinate-scale-factor" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : An optional factor by which to scale all mesh node coordinates.</div>
<div class="line"><strong>Type</strong>        : real</div>
<div class="line"><strong>Default</strong>     : 1.0</div>
<div class="line"><strong>Valid Values</strong>: <span class="math notranslate nohighlight">\(\gt 0\)</span></div>
</div>
</div>
<div class="section" id="rotation-angles">
<span id="m-ra"></span><h3><span class="section-number">17.6.2. </span>rotation_angles<a class="headerlink" href="#rotation-angles" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : A list of 3 angles, given in degrees, specifying the amount of counter-clockwise rotation about the x, y, and z-axes to apply to the mesh. The rotations are done sequentially in that order. A negative angle is a clockwise rotation, and a zero angle naturally implies no rotation.</div>
<div class="line"><strong>Type</strong>        : real 3-vector</div>
<div class="line"><strong>Default</strong>     : <span class="math notranslate nohighlight">\((0.0,\:0.0,\:0.0)\)</span></div>
</div>
</div>
<div class="section" id="partitioner">
<span id="m-p"></span><h3><span class="section-number">17.6.3. </span>partitioner<a class="headerlink" href="#partitioner" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : The partitioning method used to generate the parallel decomposition of the mesh.</div>
<div class="line"><strong>Type</strong>        : case-insensitive string</div>
<div class="line"><strong>Default</strong>     : “chaco”</div>
<div class="line"><strong>Valid Values</strong>: “chaco”, “metis”, “file”, “block”</div>
<div class="line"><strong>Notes</strong>       :</div>
</div>
<table class="colwidths-given tight-table docutils align-default" id="partitioner-options">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>chaco</strong></p></td>
<td><p>uses a graph partitioning method from the Chaco library <a class="footnote-reference brackets" href="#leland1995chaco" id="id6">2</a> to compute the mesh decomposition at run time. This is the standard method long used by Truchas.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>metis</strong></p></td>
<td><p>uses the well-known METIS library <a class="footnote-reference brackets" href="#karypis1998fast" id="id7">3</a> to partition the dual graph of the mesh at runtime. This method has a number of options which are described below.</p></td>
</tr>
<tr class="row-even"><td><p><strong>file</strong></p></td>
<td><p>reads the partitioning of the mesh cells from a disk file; see <a class="reference internal" href="#m-pf"><span class="std std-ref">partition_file</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>block</strong></p></td>
<td><p>partitions the mesh cells into nearly equal-sized blocks of consecutively numbered cells according their numbering in the mesh file. The quality of this naive decomposition entirely depends on the given ordering of mesh cells, and thus this option is not generally recommended.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="partition-file">
<span id="m-pf"></span><h3><span class="section-number">17.6.4. </span>partition_file<a class="headerlink" href="#partition-file" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the path to the mesh cell partition file, and is required when <a class="reference internal" href="#m-p"><span class="std std-ref">partitioner</span></a> is <strong>file</strong>. If not an absolute path, it will be interpreted as a path relative to the Truchas input file directory.</div>
<div class="line"><strong>Type</strong>        : case-sensitive string</div>
<div class="line"><strong>Default</strong>     : none</div>
<div class="line"><strong>Notes</strong>       : The format of this text file consists of a sequence of integer values, one value or multiple values per line. The first value is the partition number of the first cell, the second value the partition number of the second cell, and so forth. The number of values must equal the number of mesh cells. The file may use either a 0-based or 1-based numbering convention for the partitions. Popular mesh partitioning tools typically use 0-based partition numbering, and so the default is to assume 0-based numbering; use <a class="reference internal" href="#m-fp"><span class="std std-ref">first_partition</span></a> to specify 1-based numbering.</div>
</div>
</div>
<div class="section" id="first-partition">
<span id="m-fp"></span><h3><span class="section-number">17.6.5. </span>first_partition<a class="headerlink" href="#first-partition" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the number given the first partition in the numbering convention used in the partition file. Either 0-based or 1-based numbering is allowed.</div>
<div class="line"><strong>Type</strong>        : integer</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>: 0 or 1</div>
</div>
</div>
</div>
<div class="section" id="metis-mesh-partitioning">
<h2><span class="section-number">17.7. </span>METIS Mesh Partitioning<a class="headerlink" href="#metis-mesh-partitioning" title="Permalink to this headline">¶</a></h2>
<p>When <strong>metis</strong> is specified for <strong>partitioner</strong>, a graph partitioning procedure from the METIS library isused to partition the dual graph of the mesh. This is the graph whose nodes are the mesh cells and edges are the faces shared by cells. The partitioning procedures have the following integer-valued options that may be specified, though all have reasonable defaults so that none must be specified. See the METIS documentation <a class="footnote-reference brackets" href="#karypis1998fast" id="id8">3</a> for more details on these options.</p>
<div class="section" id="metis-ptype">
<h3><span class="section-number">17.7.1. </span>metis_ptype<a class="headerlink" href="#metis-ptype" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : Specifies the partitioning method.</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Multilevel recursive bisection</div>
<div class="line">1 - Multilevel <span class="math notranslate nohighlight">\(k\)</span>-way partitioning</div>
</div>
</div>
<div class="section" id="metis-iptype">
<h3><span class="section-number">17.7.2. </span>metis_iptype<a class="headerlink" href="#metis-iptype" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the algorithm used during initial partitioning (recursive bisection only). Possible values are:</div>
<div class="line"><strong>Default</strong>     : 0</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Grows a bisection using a greedy strategy</div>
<div class="line">1 - Computes a bisection at random followed by a refinement</div>
</div>
</div>
<div class="section" id="metis-ctype">
<h3><span class="section-number">17.7.3. </span>metis_ctype<a class="headerlink" href="#metis-ctype" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the matching scheme to be used during coarsening.</div>
<div class="line"><strong>Default</strong>     : 1</div>
<div class="line"><strong>Valid Values</strong>:</div>
<div class="line">0 - Random matching</div>
<div class="line">1 - Sorted heavy-edge matching</div>
</div>
</div>
<div class="section" id="metis-ncuts">
<h3><span class="section-number">17.7.4. </span>metis_ncuts<a class="headerlink" href="#metis-ncuts" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the number of different partitionings that will be computed. The final partitioning will be the one that achieves the best edgecut.</div>
<div class="line"><strong>Default</strong>     : 1</div>
</div>
</div>
<div class="section" id="metis-niter">
<h3><span class="section-number">17.7.5. </span>metis_niter<a class="headerlink" href="#metis-niter" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the number of iterations of the refinement algorithm at each stage of the uncoarsening process.</div>
<div class="line"><strong>Default</strong>     : 10</div>
</div>
</div>
<div class="section" id="metis-ufactor">
<h3><span class="section-number">17.7.6. </span>metis_ufactor<a class="headerlink" href="#metis-ufactor" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the maximum allowed load imbalance among the partitions. A value of <span class="math notranslate nohighlight">\(n\)</span> indicates that the allowed load imbalance is <span class="math notranslate nohighlight">\((1 +n)/1000\)</span>. The default is <span class="math notranslate nohighlight">\(1\)</span> for recursive bisection (i.e., an imbalance of <span class="math notranslate nohighlight">\(1.001\)</span>) and the default value is <span class="math notranslate nohighlight">\(30\)</span> for <span class="math notranslate nohighlight">\(k\)</span>-way partitioning (i.e., an imbalance of <span class="math notranslate nohighlight">\(1.03\)</span>).</div>
</div>
</div>
<div class="section" id="metis-minconn">
<h3><span class="section-number">17.7.7. </span>metis_minconn<a class="headerlink" href="#metis-minconn" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies whether the partitioning procedure should seek to minimize the maximum degree of the subdomain graph (1); or not (0, default). The subdomain graph is the graph in which each partition is a node, and edges connect subdomains with a shared interface.</div>
<div class="line"><strong>Default</strong> : 0</div>
</div>
</div>
<div class="section" id="metis-contig">
<h3><span class="section-number">17.7.8. </span>metis_contig<a class="headerlink" href="#metis-contig" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong>  : specifies whether the partitioning procedure should produce partitions that are contiguous (1); or not (0, default). If the dual graph of the mesh is not connected this option is ignored.</div>
<div class="line"><strong>Default</strong>: <span class="math notranslate nohighlight">\(0\)</span></div>
</div>
</div>
<div class="section" id="metis-seed">
<h3><span class="section-number">17.7.9. </span>metis_seed<a class="headerlink" href="#metis-seed" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the seed for the random number generator.</div>
</div>
</div>
<div class="section" id="metis-dbglvl">
<h3><span class="section-number">17.7.10. </span>metis_dbglvl<a class="headerlink" href="#metis-dbglvl" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line"><strong>Description</strong> : specifies the amount and type of diagnostic information that will be written to <strong>stderr</strong> by the partitioning procedure. The default is <span class="math notranslate nohighlight">\(0\)</span>, no output. Use <span class="math notranslate nohighlight">\(1\)</span> to write some basic information. Refer to the METIS documentation for the many other possible values and the output they generate.</div>
<div class="line"><strong>Default</strong> : <span class="math notranslate nohighlight">\(0\)</span></div>
</div>
<p><dl class="footnote brackets">
<dt class="label" id="sjaardema2006exodus"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>Gregory D Sjaardema, Larry A Schoof, and Victor R Yarberry. Exodus ii: a finite element data model. <em>Computational Mechanics and Visualization Department, Sandia National Laboratories, Albuquerque, NM</em>, 2006.</p>
</dd>
<dt class="label" id="leland1995chaco"><span class="brackets"><a class="fn-backref" href="#id6">2</a></span></dt>
<dd><p>B Hendricksonand R Leland and B Hendrickson. The chaco user’s guide: version 2.0. Technical Report, Technical Report. Technical Report SAND95-2344, Sandia National Laboratories …, 1995.</p>
</dd>
<dt class="label" id="karypis1998fast"><span class="brackets">3</span><span class="fn-backref">(<a href="#id7">1</a>,<a href="#id8">2</a>)</span></dt>
<dd><p>George Karypis and Vipin Kumar. A fast and high quality multilevel scheme for partitioning irregular graphs. <em>SIAM Journal on scientific Computing</em>, 20(1):359–392, 1998.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../NUMERICS_Namelist/index.html" class="btn btn-neutral float-right" title="18. NUMERICS Namelist" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../MATERIAL_and_PHASE_Namelists/index.html" class="btn btn-neutral float-left" title="16. MATERIAL and PHASE Namelists" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, LANL.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>